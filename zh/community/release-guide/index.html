<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Apache ShenYu (Incubating) Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Apache ShenYu (Incubating) Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache ShenYu (Incubating)" href="/zh/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/zh/news/rss.xml" title="Apache ShenYu (Incubating) Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/news/atom.xml" title="Apache ShenYu (Incubating) Blog Atom Feed"><title data-react-helmet="true">发布指南 | Apache ShenYu (Incubating)</title><meta data-react-helmet="true" property="og:url" content="https://shenyu.apache.org//zh/community/release-guide"><meta data-react-helmet="true" name="docsearch:language" content="zh"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-community-current"><meta data-react-helmet="true" property="og:title" content="发布指南 | Apache ShenYu (Incubating)"><meta data-react-helmet="true" name="description" content="Apache ShenYu发布指南"><meta data-react-helmet="true" property="og:description" content="Apache ShenYu发布指南"><link data-react-helmet="true" rel="shortcut icon" href="/zh/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://shenyu.apache.org//zh/community/release-guide"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//community/release-guide" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//zh/community/release-guide" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://shenyu.apache.org//community/release-guide" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh/assets/css/styles.32e5b75e.css">
<link rel="preload" href="/zh/assets/js/runtime~main.44455fc0.js" as="script">
<link rel="preload" href="/zh/assets/js/main.1d24a6f4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarContent_6uhP announcementBarCloseable_y4cp">⭐️ &nbsp; If you like Apache ShenYu (Incubating), give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/incubator-shenyu">GitHub</a></div><button type="button" class="announcementBarClose_A3A1 clean-btn" aria-label="Close"><span aria-hidden="true">×</span></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/logo.png" alt="Apache ShenYu Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/zh/img/logo.png" alt="Apache ShenYu Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a><a class="navbar__item navbar__link" href="/zh/download">下载</a><a class="navbar__item navbar__link" href="/zh/docs/index">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/community/subscribe-email">社区</a><a class="navbar__item navbar__link" href="/zh/event/2.4.1-release">事件</a><a class="navbar__item navbar__link" href="/zh/news">新闻</a><a class="navbar__item navbar__link" href="/zh/blog">博客</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/zh/docs/index">2.4.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/docs/next/index">当前版本</a></li><li><a class="dropdown__link" href="/zh/docs/index">2.4.1</a></li><li><a class="dropdown__link" href="/zh/docs/2.4.0/index">2.4.0</a></li><li><a class="dropdown__link" href="/zh/docs/2.3.0/index">2.3.0</a></li><li><a class="dropdown__link" href="/zh/versions">All versions</a></li></ul></div><a href="https://github.com/apache/incubator-shenyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg t="1631348384596" class="icon" viewBox="0 0 1024 1024" version="1.1" style="vertical-align:text-bottom;margin-right:5px" p-id="557" width="20" height="20"><path d="M547.797333 638.208l-104.405333-103.168 1.237333-1.28a720.170667 720.170667 0 0 0 152.490667-268.373333h120.448V183.082667h-287.744V100.906667H347.605333v82.218666H59.818667V265.386667h459.178666a648.234667 648.234667 0 0 1-130.304 219.946666 643.242667 643.242667 0 0 1-94.976-137.728H211.541333a722.048 722.048 0 0 0 122.453334 187.434667l-209.194667 206.378667 58.368 58.368 205.525333-205.525334 127.872 127.829334 31.232-83.84m231.424-208.426667h-82.218666l-184.96 493.312h82.218666l46.037334-123.306667h195.242666l46.464 123.306667h82.218667l-185.002667-493.312m-107.690666 287.744l66.56-178.005333 66.602666 178.005333z" fill="currentColor" p-id="558"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/community/release-guide" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/zh/community/release-guide" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">简体中文</a></li></ul></div><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/zh/community/subscribe-email">订阅邮件</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/code-suggestions">编码建议</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/issue-pr">问题及提交请求</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/contributor">贡献者指南</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/committer">提交者指南</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/zh/community/release-guide">发布指南</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/vote-committer">提名新的Committer</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/vote-ppmc">提名新的PPMC成员</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/two-fa">双因素认证</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/icla">签署ICLA指南</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/contributors">贡献者</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/user-registration">用户登记</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/community/community">社区</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_dC7a">发布指南</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="gpg设置"></a>GPG设置<a class="hash-link" href="#gpg设置" title="Direct link to heading">#</a></h2><p><strong>1. 安装GPG</strong></p><p>在<a href="https://www.gnupg.org/download/index.html" target="_blank" rel="noopener noreferrer">GnuPG官网</a>下载安装包。
GnuPG的1.x版本和2.x版本的命令有细微差别，下列说明以<code>GnuPG-2.1.23</code>版本为例。</p><p>安装完成后，执行以下命令查看版本号。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --version</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>2. 创建key</strong></p><p>安装完成后，执行以下命令创建key。</p><p><code>GnuPG-2.x</code>可使用：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --full-gen-key</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>GnuPG-1.x</code>可使用：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --gen-key</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>根据提示完成key：</p><blockquote><p>注意：请使用Apache邮箱生成GPG的Key。</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GnuPG</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain">.12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2009</span><span class="token plain"> Free Software Foundation, Inc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> software: you are </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> to change and redistribute it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> what kind of key you want:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> RSA and RSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> DSA and Elgamal</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> DSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> RSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your selection? </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">RSA keys may be between </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> and </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"> bits long.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">What keysize </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> you want? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2048</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Requested keysize is </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"> bits</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please specify how long the key should be valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key does not expire</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n days</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n weeks</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n months</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n years</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Key is valid for? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Key does not expire at all</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Is this correct? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> y</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GnuPG needs to construct a user ID to identify your key.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Real name: </span><span class="token variable" style="color:#36acaa">${输入用户名}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Email address: </span><span class="token variable" style="color:#36acaa">${输入邮件地址}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Comment: </span><span class="token variable" style="color:#36acaa">${输入注释}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">You selected this </span><span class="token environment constant" style="color:#36acaa">USER</span><span class="token plain">-ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">${输入的用户名}</span><span class="token string" style="color:#e3116c"> (</span><span class="token string variable" style="color:#36acaa">${输入的注释}</span><span class="token string" style="color:#e3116c">) &lt;</span><span class="token string variable" style="color:#36acaa">${输入的邮件地址}</span><span class="token string" style="color:#e3116c">&gt;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Change </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ame, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">omment, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">E</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">mail or </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">O</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">kay/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">uit? O</span></span><span class="token-line" style="color:#393A34"><span class="token plain">You need a Passphrase to protect your secret key. </span><span class="token comment" style="color:#999988;font-style:italic"># 输入密码</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>3. 查看生成的key</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --list-keys</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>执行结果：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pub   4096R/700E6065 </span><span class="token number" style="color:#36acaa">2019</span><span class="token plain">-03-20</span></span><span class="token-line" style="color:#393A34"><span class="token plain">uid                  </span><span class="token variable" style="color:#36acaa">${用户名}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">${注释}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">邮件地址</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">sub   4096R/0B7EF5B2 </span><span class="token number" style="color:#36acaa">2019</span><span class="token plain">-03-20</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>其中700E6065为公钥ID。</p><p><strong>4. 将公钥同步到服务器</strong></p><p>命令如下：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --keyserver hkp://pool.sks-keyservers.net --send-key 700E6065</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>pool.sks-keyservers.net</code>为随意挑选的<a href="https://sks-keyservers.net/status/" target="_blank" rel="noopener noreferrer">公钥服务器</a>，每个服务器之间是自动同步的，选任意一个即可。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="发布apache-maven中央仓库"></a>发布Apache Maven中央仓库<a class="hash-link" href="#发布apache-maven中央仓库" title="Direct link to heading">#</a></h2><p><strong>1. 设置settings.xml文件</strong></p><p>将以下模板添加到 <code>~/.m2/settings.xml</code>中，所有密码需要加密后再填入。
加密设置可参考<a href="http://maven.apache.org/guides/mini/guide-encryption.html" target="_blank" rel="noopener noreferrer">这里</a>。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">servers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">apache.snapshots.https</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- APACHE LDAP 用户名 --&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- APACHE LDAP 加密后的密码 --&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">apache.releases.https</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- APACHE LDAP 用户名 --&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- APACHE LDAP 加密后的密码 --&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">servers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">settings</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>2. 更新版本说明</strong></p><p>更新如下文件，并提交PR到主干：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/blob/master/RELEASE-NOTES.md</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>3. 创建发布分支</strong></p><p>下载并安装<a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git</a></p><p>假设从GitHub下载的ShenYu源代码在<code>~/incubator-shenyu/</code>目录；假设即将发布的版本为<code>${RELEASE.VERSION}</code>。
创建<code>${RELEASE.VERSION}-release</code>分支，接下来的操作都在该分支进行。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ${name}为源码所在分支，如：master，main</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone --branch </span><span class="token variable" style="color:#36acaa">${name}</span><span class="token plain"> https://github.com/apache/incubator-shenyu.git ~/incubator-shenyu</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/incubator-shenyu/</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> pull</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>4. 发布预校验</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mvn release:prepare -Prelease -Darguments</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;-DskipTests&quot;</span><span class="token plain"> -DautoVersionSubmodules</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true -DdryRun</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true -Dusername</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${Github用户名}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>-Prelease: 选择release的profile，这个profile会打包所有源码、jar文件以及ShenYu的可执行二进制包。</p><p>-DautoVersionSubmodules=true：作用是发布过程中版本号只需要输入一次，不必为每个子模块都输入一次。</p><p>-DdryRun=true：演练，即不产生版本号提交，不生成新的tag。</p><p><strong>5. 准备发布</strong></p><p>首先清理发布预校验本地信息。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mvn release:clean</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mvn release:prepare -Prelease -Darguments</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;-DskipTests&quot;</span><span class="token plain"> -DautoVersionSubmodules</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true -DpushChanges</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false -Dusername</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${Github用户名}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>和上一步演练的命令基本相同，去掉了-DdryRun=true参数。</p><p>-DpushChanges=false：不要将修改后的版本号和tag自动提交至Github。</p><p>将本地文件检查无误后，提交至github。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin --tags</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>6. 部署发布</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mvn release:perform -Prelease -Darguments</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;-DskipTests&quot;</span><span class="token plain"> -DautoVersionSubmodules</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true -Dusername</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${Github用户名}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>执行完该命令后，待发布版本会自动上传到Apache的临时筹备仓库(staging repository)。
访问<a href="https://repository.apache.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">https://repository.apache.org/#stagingRepositories</a>, 使用Apache的LDAP账户登录后，就会看到上传的版本，<code>Repository</code>列的内容即为${STAGING.REPOSITORY}。
点击<code>Close</code>来告诉Nexus这个构建已经完成，只有这样该版本才是可用的。
如果电子签名等出现问题，<code>Close</code>会失败，可以通过<code>Activity</code>查看失败信息。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="发布apache-svn仓库"></a>发布Apache SVN仓库<a class="hash-link" href="#发布apache-svn仓库" title="Direct link to heading">#</a></h2><p>下载并安装<a href="https://tortoisesvn.net/downloads.html" target="_blank" rel="noopener noreferrer">SVN</a></p><p><strong>1. 添加gpg公钥</strong></p><p>仅第一次发布的账号需要添加，只要<code>KEYS</code>中包含已经发布过的账户的公钥即可。</p><p>如无本地工作目录，则先创建本地工作目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p ~/keys_svn/release/</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/keys_svn/release/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>创建完毕后，从Apache SVN release目录检出ShenYu发布目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">svn --username</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${APACHE LDAP 用户名}</span><span class="token plain"> co https://dist.apache.org/repos/dist/release/incubator/shenyu</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/keys_svn/release/shenyu</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>添加新的公钥。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg -a --export </span><span class="token variable" style="color:#36acaa">${GPG用户名}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> KEYS</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>提交至SVN。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">svn --username</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${APACHE LDAP 用户名}</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;append to KEYS&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>2. 检出ShenYu发布目录</strong></p><p>如无本地工作目录，则先创建本地工作目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p ~/shenyu_svn/dev/</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/shenyu_svn/dev/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>创建完毕后，从Apache SVN dev目录检出ShenYu发布目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">svn --username</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${APACHE LDAP 用户名}</span><span class="token plain"> co https://dist.apache.org/repos/dist/dev/incubator/shenyu</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/shenyu_svn/dev/shenyu</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>3. 将待发布的内容添加至SVN目录</strong></p><p>创建版本号目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>将源码包、二进制包和ShenYu可执行二进制包添加至SVN工作目录。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-src-dist/target/*.zip ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-src-dist/target/*.zip.asc ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-bootstrap-dist/target/*.tar.gz ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-bootstrap-dist/target/*.tar.gz.asc ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-admin-dist/target/*.tar.gz ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -f ~/incubator-shenyu/shenyu-dist/shenyu-admin-dist/target/*.tar.gz.asc ~/shenyu_svn/dev/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>4. 生成文件签名</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">shasum -a </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-src.zip </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-src.zip.sha512</span></span><span class="token-line" style="color:#393A34"><span class="token plain">shasum -b -a </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-bootstrap-bin.tar.gz </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-bootstrap-bin.tar.gz.sha512</span></span><span class="token-line" style="color:#393A34"><span class="token plain">shasum -b -a </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-admin-bin.tar.gz </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-admin-bin.tar.gz.sha512</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>5. 提交Apache SVN</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/shenyu_svn/dev/shenyu</span></span><span class="token-line" style="color:#393A34"><span class="token plain">svn </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">svn --username</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${APACHE LDAP 用户名}</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;release </span><span class="token string variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token string" style="color:#e3116c">&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="检查发布结果"></a>检查发布结果<a class="hash-link" href="#检查发布结果" title="Direct link to heading">#</a></h2><p><strong>检查sha512哈希</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">shasum -c apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-src.zip.sha512</span></span><span class="token-line" style="color:#393A34"><span class="token plain">shasum -c apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-bootstrap-bin.tar.gz.sha512</span></span><span class="token-line" style="color:#393A34"><span class="token plain">shasum -c apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-admin-bin.tar.gz.sha512</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>检查gpg签名</strong></p><p>首先导入发布人公钥。从svn仓库导入KEYS到本地环境。（发布版本的人不需要再导入，帮助做验证的人需要导入，用户名填发版人的即可）</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://downloads.apache.org/incubator/shenyu/KEYS </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --import KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --edit-key </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">${发布人的gpg用户名}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> trust</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please decide how far you trust this user to correctly verify other </span><span class="token function" style="color:#d73a49">users</span><span class="token string" style="color:#e3116c">&#x27; keys</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">(by looking at passports, checking fingerprints from different sources, etc.)</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  1 = I don&#x27;</span><span class="token plain">t know or won&#x27;t say</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> NOT trust</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust marginally</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust fully</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust ultimately</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> back to the main menu</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your decision? </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> save</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>然后进行gpg签名检查。</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --verify apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-src.zip.asc apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-src.zip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --verify apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-bootstrap-bin.tar.gz.asc apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-bootstrap-bin.tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --verify apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-admin-bin.tar.gz.asc apache-shenyu-incubating-</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-admin-bin.tar.gz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>检查发布文件内容</strong></p><p><strong>对比源码包与Github上tag的内容差异</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">curl -Lo tag-${RELEASE.VERSION}.zip https://github.com/apache/incubator-shenyu/archive/v${RELEASE.VERSION}.zip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">unzip tag-${RELEASE.VERSION}.zip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">unzip apache-shenyu-incubating-${RELEASE.VERSION}-src.zip</span></span><span class="token-line" style="color:#393A34"><span class="token plain">diff -r -x &quot;shenyu-dashboard&quot; -x &quot;shenyu-examples&quot; -x &quot;shenyu-integrated-test&quot; -x &quot;static&quot; apache-shenyu-incubating-${RELEASE.VERSION}-src incubator-shenyu-${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>检查源码包的文件内容</strong></p><ul><li>检查源码包是否包含由于包含不必要文件，致使tarball过于庞大</li><li>文件夹包含单词<code>incubating</code></li><li>存在<code>LICENSE</code>和<code>NOTICE</code>文件</li><li>存在<code>DISCLAIMER</code>文件</li><li><code>NOTICE</code>文件中的年份正确</li><li>只存在文本文件，不存在二进制文件</li><li>所有文件的开头都有ASF许可证</li><li>能够正确编译，单元测试可以通过 (./mvnw install) (目前支持JAVA 8)</li><li>检查是否有多余文件或文件夹，例如空文件夹等</li></ul><p><strong>检查二进制包的文件内容</strong></p><p>解压缩
<code>apache-shenyu-incubating-${RELEASE.VERSION}-bootstrap-bin.tar.gz</code>，
<code>apache-shenyu-incubating-${RELEASE.VERSION}-admin-bin.tar.gz</code>
进行如下检查:</p><ul><li>文件夹包含单词<code>incubating</code></li><li>存在<code>LICENSE</code>和<code>NOTICE</code>文件</li><li>存在<code>DISCLAIMER</code>文件</li><li><code>NOTICE</code>文件中的年份正确</li><li>所有文本文件开头都有ASF许可证</li><li>检查第三方依赖许可证：<ul><li>第三方依赖的许可证兼容</li><li>所有第三方依赖的许可证都在<code>LICENSE</code>文件中声名</li><li>依赖许可证的完整版全部在<code>license</code>目录</li><li>如果依赖的是Apache许可证并且存在<code>NOTICE</code>文件，那么这些<code>NOTICE</code>文件也需要加入到版本的<code>NOTICE</code>文件中</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="发起投票"></a>发起投票<a class="hash-link" href="#发起投票" title="Direct link to heading">#</a></h2><p><strong>投票阶段</strong></p><ol><li><p>ShenYu社区投票，发起投票邮件到<code>dev@shenyu.apache.org</code>。PPMC成员需要先按照文档检查版本的正确性，然后再进行投票。
经过至少72小时并统计到3个<code>+1 mentor</code>票后，即可进入下一阶段的投票。</p></li><li><p>宣布投票结果，发起投票结果邮件到<code>dev@shenyu.apache.org</code>。</p></li><li><p>Incubator社区投票，发起投票邮件到<code>general@incubator.apache.org</code>。
经过至少72小时并统计到3个<code>+1 binding</code>票后，即可宣布投票结果。</p></li><li><p>宣布投票结果，发起投票结果邮件到<code>general@incubator.apache.org</code>。</p></li></ol><p><strong>投票模板</strong></p><ol><li>ShenYu社区投票模板</li></ol><p>发送至：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dev@shenyu.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Hello ShenYu Community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is a call for vote to release Apache ShenYu (incubating) version ${RELEASE.VERSION}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release notes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/blob/master/RELEASE-NOTES.md</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The release candidates:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://dist.apache.org/repos/dist/dev/incubator/shenyu/${RELEASE.VERSION}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Maven 2 staging repository:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://repository.apache.org/content/repositories/${STAGING.REPOSITORY}/org/apache/shenyu/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Git tag for the release:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/tree/v${RELEASE.VERSION}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release Commit ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/commit/xxxxxxxxxxxxxxxxxxxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Keys to verify the Release Candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://downloads.apache.org/incubator/shenyu/KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Look at here for how to verify this release candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://shenyu.apache.org/community/release-guide/#check-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GPG user ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">${YOUR.GPG.USER.ID}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please vote accordingly:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] +1 approve </span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] +0 no opinion</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Checklist for reference:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Download links are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checksums and PGP signatures are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Source code distributions have correct names matching the current release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] LICENSE and NOTICE files are correct for each ShenYu repo.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] All files have license headers if necessary.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] No compiled archives bundled in source archive.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>宣布投票结果模板</li></ol><p>发送至：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dev@shenyu.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[RESULT][VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">We’ve received 7 +1 votes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (mentor)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (mentor)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (mentor)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (ppmc)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (ppmc)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (ppmc)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">+1, xxx (ppmc)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thank you everyone for taking the time to review the release and help us. </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li>Incubator社区投票模板</li></ol><p>发送至：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">general@incubator.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Hello Incubator Community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is a call for vote to release Apache ShenYu (incubating) version ${RELEASE.VERSION}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The Apache ShenYu community has voted on and approved a proposal to release </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache ShenYu (incubating) version ${RELEASE.VERSION}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">We now kindly request the Incubator PMC members review and vote on this</span></span><span class="token-line" style="color:#393A34"><span class="token plain">incubator release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ShenYu community vote thread:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://lists.apache.org/thread.html/xxxxxxxxxxxxxxxxxxxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Vote result thread:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://lists.apache.org/thread.html/xxxxxxxxxxxxxxxxxxxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release notes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/blob/master/RELEASE-NOTES.md</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The release candidates:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://dist.apache.org/repos/dist/dev/incubator/shenyu/${RELEASE.VERSION}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Maven 2 staging repository:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://repository.apache.org/content/repositories/${STAGING.REPOSITORY}/org/apache/shenyu/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Git tag for the release:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/tree/v${RELEASE.VERSION}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release Commit ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/apache/incubator-shenyu/commit/xxxxxxxxxxxxxxxxxxxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Keys to verify the Release Candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://downloads.apache.org/incubator/shenyu/KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Look at here for how to verify this release candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://shenyu.apache.org/community/release-guide/#check-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GPG user ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">${YOUR.GPG.USER.ID}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please vote accordingly:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] +1 approve </span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] +0 no opinion</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Checklist for reference:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Download links are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Checksums and PGP signatures are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] Source code distributions have correct names matching the current release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] LICENSE and NOTICE files are correct for each ShenYu repo.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] All files have license headers if necessary.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[ ] No compiled archives bundled in source archive.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>宣布投票结果模板</li></ol><p>发送至：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">general@incubator.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[RESULT][VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Hi,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The vote to release Apache ShenYu (incubating) ${RELEASE.VERSION} has passed with</span></span><span class="token-line" style="color:#393A34"><span class="token plain">6 +1 binding and 1 +1 non-binding votes, no +0 or -1 votes.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Binding votes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Non-Binding votes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Vote thread:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">https://lists.apache.org/thread.html/xxxxxxxxxxxxxxxxxxxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thanks a lot to everyone for taking your time to review our release candidate.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">We will proceed with publishing the approved artifacts and sending out the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">announcements in the coming days.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="完成发布"></a>完成发布<a class="hash-link" href="#完成发布" title="Direct link to heading">#</a></h2><p><strong>1. 将源码、二进制包从svn的dev目录移动到release目录，并删除release目录的前一个版本</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">svn </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"> https://dist.apache.org/repos/dist/release/incubator/shenyu/ -m </span><span class="token string" style="color:#e3116c">&quot;transfer packages for </span><span class="token string variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">svn delete https://dist.apache.org/repos/dist/release/incubator/shenyu/</span><span class="token variable" style="color:#36acaa">${PREVIOUS.RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>2. 在Apache Staging仓库找到ShenYu并点击<code>Release</code></strong></p><p><strong>3. 合并Github的release分支到<code>master</code>, 合并完成后删除release分支</strong></p><p>从GitHub Fork一份代码，并执行以下命令：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout master</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge origin/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> pull</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin master</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>以上修改创建一个pull request。</p><p>在项目原始仓库执行以下命令：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push --delete origin </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -d </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>4. 发布 Docker</strong></p><p>4.1 准备工作</p><p>本地安装 Docker，并启动服务。</p><p>4.2 编译 Docker 镜像</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout </span><span class="token function" style="color:#d73a49">v</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ~/shenyu/shenyu-dist/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean package -Prelease,docker</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>4.3 给本地 Docker 镜像打标记</p><p>通过<code>docker images</code>查看到 IMAGE ID，例如为：e9ea51023687和e9ea51023688</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">docker tag e9ea51023687 apache/shenyu-bootstrap:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag e9ea51023687 apache/shenyu-bootstrap:</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag e9ea51023688 apache/shenyu-admin:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag e9ea51023688 apache/shenyu-admin:</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>4.4 发布 Docker 镜像</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">docker login</span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push apache/shenyu-bootstrap:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push apache/shenyu-bootstrap:</span><span class="token variable" style="color:#36acaa">${RELEASE_VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push apache/shenyu-admin:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push apache/shenyu-admin:</span><span class="token variable" style="color:#36acaa">${RELEASE_VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>4.5 确认发布成功</p><p>登录 Docker Hub 查看 <a href="https://hub.docker.com/r/apache/shenyu-bootstrap/" target="_blank" rel="noopener noreferrer">shenyu-bootstrap</a> 和 <a href="https://hub.docker.com/r/apache/shenyu-admin/" target="_blank" rel="noopener noreferrer">shenyu-admin</a> 是否有发布的镜像</p><p><strong>5. GitHub版本发布</strong></p><p>在 <a href="https://github.com/apache/incubator-shenyu/releases" target="_blank" rel="noopener noreferrer">GitHub Releases</a> 页面的 <code>${RELEASE_VERSION}</code> 版本上点击 <code>Edit</code></p><p>编辑版本号及版本说明，并点击 <code>Publish release</code></p><p><strong>6. 更新下载页面</strong></p><p>等待并确认新的发布版本同步至 Apache 镜像后，更新如下页面：</p><p><a href="https://shenyu.apache.org/download/" target="_blank" rel="noopener noreferrer">https://shenyu.apache.org/download/</a></p><p><a href="https://shenyu.apache.org/zh/download/" target="_blank" rel="noopener noreferrer">https://shenyu.apache.org/zh/download/</a></p><p>项目下载链接应该使用 <a href="https://www.apache.org/dyn/closer.lua" target="_blank" rel="noopener noreferrer">https://www.apache.org/dyn/closer.lua</a> 而不是 closer.cgi 或者 mirrors.cgi</p><p>GPG签名文件和哈希校验文件的下载连接必须使用这个前缀：<code>https://downloads.apache.org/incubator/shenyu/</code></p><p><strong>7. 邮件通知版本发布完成</strong></p><p>发送邮件到<code>general@incubator.apache.org</code>、<code>dev@shenyu.apache.org</code>和<code>announce@apache.org</code>通知完成版本发布</p><p>通知邮件模板：</p><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[ANNOUNCE] Apache ShenYu (incubating) ${RELEASE.VERSION} available</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Hi,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache ShenYu (incubating) Team is glad to announce the new release of Apache ShenYu (incubating) ${RELEASE.VERSION}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache ShenYu (incubating) is an asynchronous, high-performance, cross-language, responsive API gateway.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Support various languages (http protocol), support Dubbo, Spring-Cloud, Grpc, Motan, Sofa, Tars and other protocols.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Plugin design idea, plugin hot swap, easy to expand.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Flexible flow filtering to meet various flow control.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Built-in rich plugin support, authentication, limiting, fuse, firewall, etc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Dynamic flow configuration, high performance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Support cluster deployment, A/B Test, blue-green release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Download Links: https://shenyu.apache.org/download/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release Notes: https://github.com/apache/incubator-shenyu/blob/master/RELEASE-NOTES.md</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Website: https://shenyu.apache.org/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ShenYu Resources:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Issue: https://github.com/apache/incubator-shenyu/issues</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Mailing list: dev@shenyu.apache.org</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Documents: https://shenyu.apache.org/docs/index/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Apache ShenYu (incubating) Team</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DISCLAIMER</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache ShenYu (incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator PMC.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Incubation is required of all newly accepted projects until a further review indicates that the infrastructure,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">communications, and decision making process have stabilized in a manner consistent with other successful ASF projects.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">While incubation status is not necessarily a reflection of the completeness or stability of the code,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">it does indicate that the project has yet to be fully endorsed by the ASF.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>8. 重新发布（非必需）</strong></p><p>注意：只有在投票没有通过的情况下才需要重新发布。</p><p>8.1. 取消投票邮件模板</p><p>视情况在<code>dev@shenyu.apache.org</code>或<code>general@incubator.apache.org</code>发起取消投票邮件。</p><p>发送至：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dev@shenyu.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>或者</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">general@incubator.apache.org</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>标题：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[CANCEL][VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Hi,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">I&#x27;m cancelling this vote because of xxxxxx issues. I&#x27;ll fix them and start the round ${n} vote process.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">The detail of the modifications are as follows:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1. xxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">2. xxxxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thanks a lot for all your help.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>8.2 清理筹备仓库</p><p>访问<a href="https://repository.apache.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">https://repository.apache.org/#stagingRepositories</a>, 使用Apache的LDAP账户登录后，选中之前<code>Close</code>的版本，点击<code>Drop</code>。</p><p>8.3 删除GitHub分支和标签</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin --delete </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -D </span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin --delete tag </span><span class="token function" style="color:#d73a49">v</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> tag -d </span><span class="token function" style="color:#d73a49">v</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>8.4 删除SVN待发布内容</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">svn delete https://dist.apache.org/repos/dist/dev/incubator/shenyu/</span><span class="token variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token plain"> -m </span><span class="token string" style="color:#e3116c">&quot;delete </span><span class="token string variable" style="color:#36acaa">${RELEASE.VERSION}</span><span class="token string" style="color:#e3116c">&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>8.5 更新邮件标题</p><p>完成以上步骤后，可以开始重新进行发布操作。接下来的投票邮件标题需要增加<code>[ROUND ${n}]</code>后缀。例如：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[VOTE] Release Apache ShenYu (incubating) ${RELEASE.VERSION} [ROUND 2]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>投票结果和通知邮件不需要加后缀。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/apache/incubator-shenyu-website/edit/main/i18n/zh/docusaurus-plugin-content-docs-community/current/5-release-guide.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑本文档</a></div><div class="col lastUpdated_wj+Z">Last updated on <b><time datetime="2021-11-15T06:51:22.000Z">2021/11/15</time></b> by <b>Shawn Jim</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/community/committer"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">« 提交者指南</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/community/vote-committer"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">提名新的Committer »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gpg设置" class="table-of-contents__link">GPG设置</a></li><li><a href="#发布apache-maven中央仓库" class="table-of-contents__link">发布Apache Maven中央仓库</a></li><li><a href="#发布apache-svn仓库" class="table-of-contents__link">发布Apache SVN仓库</a></li><li><a href="#检查发布结果" class="table-of-contents__link">检查发布结果</a></li><li><a href="#发起投票" class="table-of-contents__link">发起投票</a></li><li><a href="#完成发布" class="table-of-contents__link">完成发布</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ShenYu</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/download">下载</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/docs/index">文档</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/news">新闻</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/blog">博客</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-shenyu/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>版本<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/community/subscribe-email">社区</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-shenyu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-shenyu/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">订阅邮件组</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/community/subscribe-email">如何定阅</a></li><li class="footer__item"><a href="mailto://dev-subscribe@shenyu.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>订阅邮件<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@shenyu.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>邮件归档<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><img style="height:50px" alt="Apache Software Foundation" src="/img/incubator-logo.png"><p style="color:#ffffffcf;font-size:14px;text-align:left">Apache ShenYu is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
      <p style="color:white;font-size:14px;"> Copyright © 2021 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache ShenYu, Apache Incubator, Apache, the Apache feather logo, the Apache ShenYu logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.</p>
      <div></div></div></div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.44455fc0.js"></script>
<script src="/zh/assets/js/main.1d24a6f4.js"></script>
</body>
</html>